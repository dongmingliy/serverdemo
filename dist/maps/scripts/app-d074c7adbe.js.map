{"version":3,"sources":["scripts/app-d074c7adbe.js"],"names":["angular","module","MainController","$mdSidenav","addServer","vm","servers","push","canDestroy","destroyServer","size","length","app1","app0","splice","addApp","title","toLowerCase","app","inserted","i","pushApp","j","data","time","Date","now","appsRunning","removeApp","index","toggleMenu","toggle","this","ha","ra","ch","st","sp","name","uiID","$inject","controller","runBlock","$log","debug","run","constant","moment","config","$mdThemingProvider","theme","primaryPalette","default","hue-1","hue-2","hue-3","accentPalette","dark","$templateCache","put"],"mappings":"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","file":"scripts/app-d074c7adbe.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('mesosphereDemo', ['ngAnimate', 'ngTouch', 'ngSanitize', 'ngAria', 'ngMaterial','angularMoment']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n  .module('mesosphereDemo')\n  .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($mdSidenav) {\n    var vm = this;\n    vm.addServer = addServer;\n    vm.servers = [[],[],[],[]];\n    vm.canDestroy = true;\n    vm.destroyServer = destroyServer;\n    vm.addApp = addApp;\n    vm.removeApp = removeApp;\n    vm.toggleMenu = toggleMenu;\n    //store every server index that is running the app\n    vm.appsRunning = {\n      ha: [],\n      ra: [],\n      ch: [],\n      st: [],\n      sp: []\n    };\n    //uiID is used to determine the background css of the canvas: bg-1-1 for ha, bg-1-2 for ha and ra, etc\n    var data = {\n      ha: {\n        name: 'Hadoop',\n        title: 'Ha',\n        uiID: 1\n      },\n      ra: {\n        name: 'Rails',\n        title: 'Ra',\n        uiID: 2\n      },\n      ch: {\n        name: 'Chronos',\n        title: 'Ch',\n        uiID: 3\n      },\n      st: {\n        name: 'Storm',\n        title: 'St',\n        uiID: 4\n      },\n      sp: {\n        name: 'Spark',\n        title: 'Sp',\n        uiID: 5\n      }\n    };\n\n    function addServer() {\n      vm.servers.push([]);\n      vm.canDestroy = true;\n    }\n\n    function destroyServer() {\n      var size = vm.servers.length;\n      if (size > 0) {\n        var app1 = vm.servers[size - 1][1];\n        var app0 = vm.servers[size - 1][0];\n        vm.servers.splice(size - 1, 1);\n        if (app1) {\n          addApp(app1.title.toLowerCase());\n        }\n        if (app0) {\n          addApp(app0.title.toLowerCase());\n        }\n      }\n      if (vm.servers.length === 0) {\n        vm.canDestroy = false;\n      }\n    }\n\n    function addApp(app) {\n      if (vm.servers.length === 0) {\n        return;\n      }\n      var inserted = false;\n      for (var i = 0; i < vm.servers.length; i++) {\n        if (!vm.servers[i][0]) {\n          pushApp(i, app);\n          inserted = true;\n          break;\n        }\n      }\n      if (!inserted) {\n        for (var j = 0; j < vm.servers.length; j++) {\n          if (!vm.servers[j][1]) {\n            pushApp(j, app);\n            break;\n          }\n        }\n      }\n    }\n\n    function pushApp(i, app) {\n      data[app].time = Date.now();\n      vm.servers[i].push(data[app]);\n      vm.appsRunning[app].push(i);\n    }\n\n    function removeApp(app) {\n      //go to the last server index that runs the app\n      var size = vm.appsRunning[app].length;\n      if (size === 0) {\n        return;\n      }\n      var index = vm.appsRunning[app][size - 1];\n      vm.appsRunning[app].splice(size - 1, 1);\n      //remove from second array index if exists\n      if (vm.servers[index][1] && vm.servers[index][1].title.toLowerCase() === app) {\n        vm.servers[index].splice(1, 1);\n      } else if (vm.servers[index][0] && vm.servers[index][0].title.toLowerCase() === app) {\n        vm.servers[index].splice(0, 1);\n      }\n    }\n\n    function toggleMenu() {\n      $mdSidenav('sideMenu').toggle();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mesosphereDemo')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('mesosphereDemo')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mesosphereDemo')\n    .config(config);\n\n  /** @ngInject */\n  function config($mdThemingProvider) {\n    $mdThemingProvider.theme('default')\n    .primaryPalette('grey',{\n      'default': '900',\n      'hue-1': '300', // use shade 100 for the <code>md-hue-1</code> class\n      'hue-2': '600', // use shade 600 for the <code>md-hue-2</code> class\n      'hue-3': '800' // use shade A100 for the <code>md-hue-3</code> class\n    })\n    .accentPalette('orange')\n    .dark();\n  }\n})();\n\nangular.module(\"mesosphereDemo\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div ng-controller=\\\"MainController as main\\\"><div><div><div><button ng-click=\\\"main.addServer()\\\">Add Server</button></div><div ng-disabled=\\\"!main.canDestroy\\\"><button ng-click=\\\"main.destroyServer()\\\" ng-disabled=\\\"!main.canDestroy\\\">Destroy</button></div></div><div><div>Available Apps</div><div>Hadoop <span><button ng-click=\\\"main.removeApp(\\'ha\\')\\\" ng-disabled=\\\"!main.appsRunning.ha.length\\\">-</button> <button ng-click=\\\"main.addApp(\\'ha\\')\\\">+</button></span></div><div>Rails <span><button ng-click=\\\"main.removeApp(\\'ra\\')\\\" ng-disabled=\\\"!main.appsRunning.ra.length\\\">-</button> <button ng-click=\\\"main.addApp(\\'ra\\')\\\">+</button></span></div><div>Chronos <span><button ng-click=\\\"main.removeApp(\\'ch\\')\\\" ng-disabled=\\\"!main.appsRunning.ch.length\\\">-</button> <button ng-click=\\\"main.addApp(\\'ch\\')\\\">+</button></span></div><div>Storm <span><button ng-click=\\\"main.removeApp(\\'st\\')\\\" ng-disabled=\\\"!main.appsRunning.st.length\\\">-</button> <button ng-click=\\\"main.addApp(\\'st\\')\\\">+</button></span></div><div>Spark <span><button ng-click=\\\"main.removeApp(\\'sp\\')\\\" ng-disabled=\\\"!main.appsRunning.sp.length\\\">-</button> <button ng-click=\\\"main.addApp(\\'sp\\')\\\">+</button></span></div></div><div></div></div><div style=\\\"margin: 100px;\\\"><section><button ng-click=\\\"main.toggleMenu()\\\" hide-gt-sm=\\\"\\\"></button><div>Server Canvas</div><div><md-grid-list md-cols-sm=\\\"1\\\" md-cols-md=\\\"1\\\" md-cols-gt-lg=\\\"4\\\" md-cols-lg=\\\"3\\\" md-row-height=\\\"5:3\\\" md-gutter=\\\"10px\\\"><div ng-repeat=\\\"server in main.servers\\\" style=\\\"background-color:grey; height:200px;width:200px; margin:10px\\\"><div><div>{{ server[0].title }} {{ server[1].title && \\'+\\'}} {{server[1].title}}</div><div>{{ server[0].name }} {{ server[1].name && \\'+\\'}} {{server[1].name }}</div><div><span ng-show=\\\"!(server[1].time && server[0].time)\\\"><span ng-show=\\\"server[0].time\\\">{{\\'Added\\'}}</span> <span am-time-ago=\\\"server[0].time\\\"></span></span><div ng-show=\\\"(server[1].time && server[0].time)\\\"><div><span ng-show=\\\"server[0].time\\\">{{\\'Added \\' + server[0].title}}</span> <span am-time-ago=\\\"server[0].time\\\"></span></div><div><span ng-show=\\\"server[1].time\\\">{{\\'Added \\' + server[1].title}}</span> <span am-time-ago=\\\"server[1].time\\\"></span></div></div></div></div></div></md-grid-list></div></section></div></div>\");}]);"],"sourceRoot":"/source/"}